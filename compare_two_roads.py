import numpy as np
import similaritymeasures
import matplotlib.pyplot as plt

def compare_two_roads(roads1, roads2):
    # Generate random experimental data
    exp_data = np.array(roads1)

    # Generate random numerical data
    num_data = np.array(roads2)

    # quantify the difference between the two curves using PCM
    pcm = similaritymeasures.pcm(exp_data, num_data)

    # quantify the difference between the two curves using
    # Discrete Frechet distance
    df = similaritymeasures.frechet_dist(exp_data, num_data)

    # quantify the difference between the two curves using
    # area between two curves
    area = similaritymeasures.area_between_two_curves(exp_data, num_data)

    # quantify the difference between the two curves using
    # Curve Length based similarity measure
    cl = similaritymeasures.curve_length_measure(exp_data, num_data)

    # quantify the difference between the two curves using
    # Dynamic Time Warping distance
    dtw, d = similaritymeasures.dtw(exp_data, num_data)

    # mean absolute error
    # mae = similaritymeasures.mae(exp_data, num_data)

    # mean squared error
    # mse = similaritymeasures.mse(exp_data, num_data)

    # print the results
    print(pcm, df, area, cl, dtw)


    print("pcm: " + str(pcm))
    print("dtw: " + str(dtw))

    # plot the data
    plt.figure()
    plt.plot(exp_data[:, 0], exp_data[:, 1])
    plt.plot(num_data[:, 0], num_data[:, 1])
    plt.show()


if __name__ == '__main__':
    roads1 =[(-0.0235290527, 0.0436124802), (-0.133754969, -0.0581131), (-0.247334957, -0.156080246), (-0.247334957, -0.156080246), (-0.130529165, -0.0619831085), (-0.0128729343, 0.0310564041), (0.105617046, 0.123023987), (0.226331711, 0.212059975), (0.349190712, 0.298104286), (0.474127531, 0.381110191), (0.862614632, 0.607840538), (1.27193928, 0.794341087), (1.69401503, 0.950282097), (2.1115613, 1.11756611), (2.51016092, 1.32600689), (2.89247942, 1.56328011), (3.26336288, 1.81805611), (3.63424683, 2.07283306), (4.02273369, 2.29956341), (4.43205833, 2.48606396), (4.85413456, 2.64200497), (5.27975559, 2.78810978), (5.71201229, 2.91254139), (6.15017223, 3.01508904), (6.58833218, 3.11763668), (6.73438549, 3.15181923), (6.88069725, 3.18486929), (7.02777, 3.2143178), (7.17532444, 3.24129391), (7.32330322, 3.26578808), (7.47184372, 3.28664446), (7.62054348, 3.30634928), (7.76924324, 3.3260541), (7.91824627, 3.3432579), (8.06763077, 3.35680294), (8.21711826, 3.36918926), (8.366786, 3.37906265), (8.51670074, 3.3839035), (8.66669369, 3.38506508)]
    roads2 = [(-0.0407249928, -0.0518894196), (0.109272957, -0.0526723862), (0.25922966, -0.0559740067), (0.409065485, -0.0629549), (0.558679581, -0.0736103058), (0.707992554, -0.0879335403), (0.856903553, -0.105916023), (1.0053339, -0.127548218), (1.15359402, -0.150328636), (1.30185413, -0.173109055), (1.45046854, -0.193395615), (1.59954166, -0.210029602), (2.04872, -0.233856201), (2.49801683, -0.212375641), (2.94287348, -0.145806313), (3.37877655, -0.034822464), (3.80130339, 0.119448662), (4.20616817, 0.315443039), (4.58926249, 0.551171303), (4.94669962, 0.824242592), (5.27485323, 1.13188457), (5.5872283, 1.45580101), (5.91538191, 1.76344395), (6.27281904, 2.03651428), (6.65591383, 2.27224255), (6.78864813, 2.34209538), (6.92365408, 2.40745068), (7.06022692, 2.46947575), (7.19827604, 2.52812958), (7.33772707, 2.58338165), (7.47848749, 2.63519192), (7.62090826, 2.68224716), (7.76444578, 2.72579384), (7.90900373, 2.76580524), (8.05450439, 2.80225801), (8.20085144, 2.83512878), (8.34822083, 2.86306667), (8.49623489, 2.88738108), (8.64479637, 2.90805531), (9.09347, 2.94000769), (9.09347, 2.94000769), (8.94347763, 2.93942022), (8.79355049, 2.94387054), (8.64385796, 2.9533534), (8.49456787, 2.96785736), (8.34585, 2.98736715), (8.19787, 3.01186037), (8.05079651, 3.04130936), (7.90398932, 3.0720892), (7.75672388, 3.10059166), (7.60903406, 3.1268096), (7.46114492, 3.15188313), (7.31370497, 3.17943573), (7.16651392, 3.20832157), (7.01866388, 3.23358727), (6.57119513, 3.27942085), (6.57119513, 3.27942085), (6.72109652, 3.27418804), (6.87108755, 3.27263451), (7.02106619, 3.27476215), (7.17088747, 3.28192472), (7.3203845, 3.29411507), (7.46966219, 3.308815), (7.61894, 3.32351494), (7.76832438, 3.33705807), (7.91781187, 3.34944439), (8.06729889, 3.36183071), (8.21696663, 3.37170362), (8.36678696, 3.37906265), (8.51670074, 3.3839035), (8.66669464, 3.38506508)]
    compare_two_roads(roads1, roads2)
