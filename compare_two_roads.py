import numpy as np
import similaritymeasures
import matplotlib.pyplot as plt

def compare_two_roads(roads1, roads2):
    # Generate random experimental data
    exp_data = np.array(roads1)

    # Generate random numerical data
    num_data = np.array(roads2)

    # quantify the difference between the two curves using PCM
    pcm = similaritymeasures.pcm(exp_data, num_data)

    # quantify the difference between the two curves using
    # Discrete Frechet distance
    df = similaritymeasures.frechet_dist(exp_data, num_data)

    # quantify the difference between the two curves using
    # area between two curves
    area = similaritymeasures.area_between_two_curves(exp_data, num_data)

    # quantify the difference between the two curves using
    # Curve Length based similarity measure
    cl = similaritymeasures.curve_length_measure(exp_data, num_data)

    # quantify the difference between the two curves using
    # Dynamic Time Warping distance
    dtw, d = similaritymeasures.dtw(exp_data, num_data)

    # mean absolute error
    # mae = similaritymeasures.mae(exp_data, num_data)

    # mean squared error
    # mse = similaritymeasures.mse(exp_data, num_data)

    # print the results
    print(pcm, df, area, cl, dtw)


    print("pcm: " + str(pcm))
    print("dtw: " + str(dtw))

    # plot the data
    plt.figure()
    plt.plot(exp_data[:, 0], exp_data[:, 1])
    plt.plot(num_data[:, 0], num_data[:, 1])
    plt.show()


if __name__ == '__main__':
    roads1 =[(0, -0.000823974609), (-0.421181679, 0.013879776), (-0.570612907, 0.0268507), (-0.719685555, 0.0434846878), (-0.868758202, 0.0601196289), (-1.01766968, 0.0781011581), (-1.16609955, 0.0997324), (-1.31394863, 0.124998093), (-1.46086693, 0.15521431), (-1.89437771, 0.275200844), (-2.31361961, 0.438189507), (-2.7143383, 0.642526627), (-3.0990696, 0.875860214), (-3.48986435, 1.09859085), (-3.90108299, 1.28087711), (-4.3285532, 1.42087173), (-4.47390842, 1.45788), (-4.62042522, 1.48998642), (-4.7676897, 1.51848793), (-4.91517305, 1.54584885), (-5.0626564, 1.57320976), (-5.21057177, 1.59808922), (-5.35905743, 1.61933327), (-5.50801516, 1.63692665), (-5.65747929, 1.64950752), (-5.80721188, 1.65841675), (-5.95711374, 1.66364861), (-6.10710335, 1.66520309), (-6.25708151, 1.66307545), (-6.40690327, 1.6559124), (-6.85374451, 1.60431957), (-6.85374451, 1.60431957), (-6.41436, 1.70060158), (-5.98310375, 1.82898235), (-5.84073544, 1.87621212), (-5.69836712, 1.92344189), (-5.55488729, 1.96716213), (-5.41037369, 2.00735), (-5.2652545, 2.04529572), (-5.11925316, 2.07966709), (-4.97217941, 2.10911608), (-4.8241992, 2.13360977), (-4.67565823, 2.15446568), (-4.52681208, 2.17301798), (-4.37756, 2.18791199), (-4.22789288, 2.19778538), (-4.07797718, 2.20262623), (-3.92798424, 2.2037878)]
    roads2 = [(-0.0596752167, -0.0292987823), (-0.167647362, 0.0748224258), (-0.277219772, 0.177258492), (-0.387583733, 0.278844833), (-0.499632835, 0.378559113), (-0.614967346, 0.474453926), (-0.733457565, 0.566421509), (-0.854969, 0.65435791), (-0.979365349, 0.738163948), (-1.36844349, 0.963879585), (-1.76856422, 1.16980076), (-2.17837429, 1.35523033), (-2.60085392, 1.51006699), (-3.03006935, 1.64511299), (-3.46790981, 1.74818897), (-3.61546421, 1.77516556), (-3.76344395, 1.79965973), (-3.91182137, 1.82166576), (-4.06036186, 1.84251976), (-4.20906162, 1.86222458), (-4.35806465, 1.87942886), (-4.50706768, 1.89663315), (-4.65607071, 1.91383743), (-4.80545616, 1.92738152), (-4.9551239, 1.93725586), (-5.10503864, 1.94209766), (-5.25502062, 1.94442081), (-5.40501404, 1.94558144), (-5.55501413, 1.94558144), (-6.00425339, 1.92292786), (-6.00425339, 1.92292786), (-5.85529566, 1.94052029), (-5.70701313, 1.96310616), (-5.55932474, 1.98932362), (-5.41232824, 2.01915646), (-5.26610374, 2.05258846), (-5.11987877, 2.08602142), (-4.97288227, 2.11585426), (-4.82496738, 2.14073372), (-4.6763, 2.16063118), (-4.52704811, 2.17552567), (-4.37756, 2.18791199), (-4.2278924, 2.19778538), (-4.07797718, 2.20262623), (-3.92798424, 2.2037878)]
    compare_two_roads(roads1, roads2)
